<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7540.806111330647 3263.0185543264306" width="7540.806111330647" height="3263.0185543264306">
  <!-- svg-source:excalidraw -->
  
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
    </style>
    
  </defs>
  <g transform="translate(2412.8259243435314 181.33048468075867) rotate(0 291.70001220703125 57.5)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="92px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Configuration</text></g><g transform="translate(2180 10) rotate(0 554.4249877929688 79.41524234037934)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="127.06438774460597px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Logical replication</text></g><g transform="translate(10 441.3304846807587) rotate(0 229.80262675467384 60.14026395750989)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="96.22442233201568px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Publishers</text></g><g transform="translate(264.547163727133 698.674869987306) rotate(0 156.37401330178727 43.35693448099482)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="69.37109516959269px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">wal_level</text></g><g transform="translate(1103.7136375528535 888.8859373878149) rotate(0 978.6460407288778 74.12637185460699)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="59.30109748368563px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge"> must be set to at least the number of subscriptions</text><text x="0" y="74.12637185460704" font-family="Virgil, Segoe UI Emoji" font-size="59.30109748368563px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge"> expected to connect, plus some reserve for table synchronization.</text></g><g transform="translate(261.74994214771505 894.4803805466436) rotate(0 366.1563161278791 41.95832369128766)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="67.13331790605741px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">max_replication_slots</text></g><g transform="translate(289.7221579419056 1188.18864638565) rotate(0 339.64795231030075 46.15415606041279)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="73.84664969666322px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">max_wal_senders </text></g><g transform="translate(1120.4969670293685 1202.1747542827434) rotate(0 1162.3015653134426 78.32220422373211)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="62.657763378986964px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">should be set to at least the same as                      </text><text x="0" y="78.3222042237337" font-family="Virgil, Segoe UI Emoji" font-size="62.657763378986964px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">plus the number of physical replicas that are connected at the same time.</text></g><g transform="translate(1126.0914101882045 686.5535764765009) rotate(0 382.0227747371646 41.95832369128766)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="67.13331790605746px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">must be set to logical.</text></g><g stroke-linecap="round"><g transform="translate(1665.9551750160826 781.6591101767481) rotate(0 110.49588815850257 0.05826550164783839)"><path d="M0.15 -0.08 C36.98 -0.07, 184.14 -0.11, 220.95 -0.08 M0.04 0.2 C36.86 0.24, 184 0.12, 220.82 0.07" stroke="#e03131" stroke-width="4" fill="none"></path></g></g><mask></mask><g transform="translate(2404.4216719827164 1180.7265408960666) rotate(0 398.7159707595474 45.68937643607933)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="73.10300229772534px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">max_replication_slots</text></g><g transform="translate(284.1277147830697 1557.4218948689595) rotate(0 356.0883709822192 44.755545270705625)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="71.60887243312794px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">wal_sender_timeout</text></g><g transform="translate(32.37777263535463 1810.9964875021033) rotate(0 231.95493857555084 53.63349555595778)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="85.81359288953406px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Subscribers</text></g><g transform="translate(323.28881689493574 2070.9431985288247) rotate(0 407.8659953716651 46.73788953703479)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="74.78062325925751px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">max_replication_slots</text></g><g transform="translate(1551.2690902599024 2089.8264021517243) rotate(0 515.0161412978396 43.35693448099846)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="69.37109516959569px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">the same as for the publisher</text></g><g transform="translate(317.69437373609617 2312.6717213121083) rotate(0 549.2681077764828 43.35693448099482)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="69.37109516959272px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">max_logical_replication_workers</text></g><g transform="translate(1582.0385276335146 2298.685613415015) rotate(0 886.4208749268073 41.95832369128766)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="67.13331790605986px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">must be set to at least the number of subscriptions</text></g><g transform="translate(1584.8357492129326 2413.3716981711987) rotate(0 896.504876172854 40.55971290157322)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="64.89554064251921px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">plus some reserve for the table synchronization workers</text></g><g transform="translate(2054.7689745553325 2626.5199825229283) rotate(0 164.11858997099807 40.2799907436347)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="64.44798518981514px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">similar to </text></g><g transform="translate(2390.4355640856193 2617.5688734687865) rotate(0 280.3338043128515 40.2799907436347)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="64.44798518981514px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">max_wal_senders</text></g><g stroke-linecap="round"><g transform="translate(2544.2827509536655 2595.191100833428) rotate(0 -74.28453694005657 -40.33056673641477)"><path d="M1.02 -0.92 C-23.63 -14.39, -123.72 -68.58, -148.51 -81.88 M0.1 1.21 C-24.68 -12.03, -124.88 -66.73, -149.59 -80.74" stroke="#e03131" stroke-width="4" fill="none"></path></g><g transform="translate(2544.2827509536655 2595.191100833428) rotate(0 -74.28453694005657 -40.33056673641477)"><path d="M-119.96 -76.04 C-128.84 -77.38, -135.96 -77.22, -149.59 -80.74 M-119.96 -76.04 C-130.37 -78.37, -140.66 -79.56, -149.59 -80.74" stroke="#e03131" stroke-width="4" fill="none"></path></g><g transform="translate(2544.2827509536655 2595.191100833428) rotate(0 -74.28453694005657 -40.33056673641477)"><path d="M-129.91 -58.09 C-136.16 -64, -140.79 -68.31, -149.59 -80.74 M-129.91 -58.09 C-137.16 -66.5, -144.12 -73.7, -149.59 -80.74" stroke="#e03131" stroke-width="4" fill="none"></path></g></g><mask></mask><g transform="translate(329.9488682745032 2780.60693124064) rotate(0 562.9221992669936 236.2058115428954)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="75.58585969372614px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">wal_receiver_timeout</text><text x="0" y="94.48232461715767" font-family="Virgil, Segoe UI Emoji" font-size="75.58585969372614px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge"></text><text x="0" y="188.96464923431535" font-family="Virgil, Segoe UI Emoji" font-size="75.58585969372614px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">wal_receiver_status_interval</text><text x="0" y="283.446973851473" font-family="Virgil, Segoe UI Emoji" font-size="75.58585969372614px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge"></text><text x="0" y="377.9292984686307" font-family="Virgil, Segoe UI Emoji" font-size="75.58585969372614px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">wal_retrieve_retry_interval</text></g><g transform="translate(3614.2142857142862 921.2994807383657) rotate(0 559.4000244140625 61.479787685482734)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="98.36766029677095px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Publisher - pg_hba.conf</text></g><g transform="translate(3614.2142857142862 1159.2590561093311) rotate(0 1674.4303315137586 57.19556016597562)"><text x="0" y="0" font-family="Helvetica, Segoe UI Emoji" font-size="99.4705394190871px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge"># Replication user on the primary server, connecting from the standby server</text></g><g transform="translate(3614.2142857142862 1311.2279357773805) rotate(0 1097.7737098155667 57.19556016597562)"><text x="0" y="0" font-family="Helvetica, Segoe UI Emoji" font-size="99.4705394190871px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">host replication replicator 0.0.0.0/0 scram-sha-256</text></g><g transform="translate(3589.424805232462 416.1042942045751) rotate(0 565.816650390625 53.75)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="86.00000000000001px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Publisher - replication user</text></g><g transform="translate(3599.809523809523 661.6642449240462) rotate(0 1709.7417593692353 47.295024640261545)"><text x="0" y="0" font-family="Helvetica, Segoe UI Emoji" font-size="82.25221676567361px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">CREATE USER replicator WITH REPLICATION LOGIN ENCRYPTED PASSWORD 'replicator';</text></g><g transform="translate(3619.809523809523 1864.8542942045606) rotate(0 900.5333251953125 43.53693855343954)"><text x="0" y="0" font-family="Helvetica, Segoe UI Emoji" font-size="75.71641487554815px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">CREATE PUBLICATION mypub FOR TABLE mytable;</text></g><g transform="translate(3611.476190476191 1643.1876275379036) rotate(0 725.1166381835938 57.826086956523795)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="92.52173913043919px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Publisher - create a publication</text></g><g transform="translate(3644.1309523809505 2362.366198966469) rotate(0 1171.99169921875 42.040382832605246)"><text x="0" y="0" font-family="Helvetica, Segoe UI Emoji" font-size="73.11370927409635px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">CREATE TABLE mytable (id BIGSERIAL PRIMARY KEY NOT NULL, ...);</text></g><g transform="translate(3644.1309523809505 2474.0676992463414) rotate(0 541.2583618164062 42.040382832605246)"><text x="0" y="0" font-family="Helvetica, Segoe UI Emoji" font-size="73.11370927409635px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">CREATE SUBSCRIPTION mysub</text></g><g transform="translate(3644.1309523809505 2585.7691995262066) rotate(0 1291.941650390625 42.040382832605246)"><text x="0" y="0" font-family="Helvetica, Segoe UI Emoji" font-size="73.11370927409635px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">CONNECTION 'host=... port=... user=replicator password=replicator dbname=...'</text></g><g transform="translate(3644.1309523809505 2692.470699806079) rotate(0 355.79998779296875 42.040382832605246)"><text x="0" y="0" font-family="Helvetica, Segoe UI Emoji" font-size="73.11370927409635px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">PUBLICATION mypub</text></g><g transform="translate(3644.1309523809505 2809.1722000859445) rotate(0 566.9786673563631 42.040382832605246)"><text x="0" y="0" font-family="Helvetica, Segoe UI Emoji" font-size="73.11370927409635px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">WITH (slot_name='replicator_slot');</text></g><g transform="translate(3624.1309523809505 2103.736563868588) rotate(0 516.4333343505859 54.31481754894048)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="86.90370807830203px" fill="#1e1e1e" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Subscriber - subscription</text></g><g stroke-linecap="round"><g transform="translate(3619.1309523809505 2722.366198966469) rotate(0 -60.109985970813796 -399.5151202075176)"><path d="M-0.46 0.34 C-20.53 -64.02, -116.32 -251.81, -119.66 -385.09 C-123 -518.38, -36.92 -730.04, -20.49 -799.37" stroke="#2f9e44" stroke-width="4.5" fill="none" stroke-dasharray="8 12"></path></g><g transform="translate(3619.1309523809505 2722.366198966469) rotate(0 -60.109985970813796 -399.5151202075176)"><path d="M-19 -769.4 C-19.25 -779.74, -20.5 -792.01, -20.49 -799.37" stroke="#2f9e44" stroke-width="4.5" fill="none"></path></g><g transform="translate(3619.1309523809505 2722.366198966469) rotate(0 -60.109985970813796 -399.5151202075176)"><path d="M-38.61 -775.46 C-31.68 -783.52, -25.8 -793.59, -20.49 -799.37" stroke="#2f9e44" stroke-width="4.5" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(5124.1309523809505 2352.366198966469) rotate(0 380.6565570128241 -104.8463448373368)"><path d="M0.72 -1.02 C127.08 -35.95, 632.9 -175.89, 759.32 -210.76 M-0.36 1.06 C126.3 -33.63, 634.66 -174.6, 761.67 -209.62" stroke="#e03131" stroke-width="4" fill="none"></path></g><g transform="translate(5124.1309523809505 2352.366198966469) rotate(0 380.6565570128241 -104.8463448373368)"><path d="M737.24 -192.21 C745.34 -200.35, 755.41 -207.34, 761.67 -209.62 M737.24 -192.21 C744.94 -197.8, 750.56 -201.9, 761.67 -209.62" stroke="#e03131" stroke-width="4" fill="none"></path></g><g transform="translate(5124.1309523809505 2352.366198966469) rotate(0 380.6565570128241 -104.8463448373368)"><path d="M731.77 -211.99 C741.84 -212.37, 754.06 -211.56, 761.67 -209.62 M731.77 -211.99 C740.92 -212.02, 748.08 -210.56, 761.67 -209.62" stroke="#e03131" stroke-width="4" fill="none"></path></g></g><mask></mask><g stroke-linecap="round"><g transform="translate(5098.797619047615 2589.032865633133) rotate(0 -22.98642782686693 -574.3474850766361)"><path d="M-1.1 1.1 C73.52 -120.88, 530.96 -540.33, 447.24 -732.14 C363.52 -923.96, -344.86 -1080.3, -503.4 -1149.8" stroke="#2f9e44" stroke-width="4.5" fill="none" stroke-dasharray="8 12"></path></g><g transform="translate(5098.797619047615 2589.032865633133) rotate(0 -22.98642782686693 -574.3474850766361)"><path d="M-473.42 -1150.81 C-479.39 -1149.86, -487.05 -1150.67, -503.4 -1149.8" stroke="#2f9e44" stroke-width="4.5" fill="none"></path></g><g transform="translate(5098.797619047615 2589.032865633133) rotate(0 -22.98642782686693 -574.3474850766361)"><path d="M-479.78 -1131.3 C-484.06 -1135.37, -490.06 -1141.26, -503.4 -1149.8" stroke="#2f9e44" stroke-width="4.5" fill="none"></path></g></g><mask></mask><g transform="translate(5969.1309523809505 1938.467381404218) rotate(0 695.7122149322986 74.29437762431553)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="118.87100419890233px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">Primary key is used as </text></g><g transform="translate(5974.722089706993 2107.752105702719) rotate(0 349.3564684582343 60.30704663187498)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="96.49127461099773px" fill="#f08c00" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">replica identity</text></g><g transform="translate(6729.126261770623 2109.2735805109114) rotate(0 222.22940581338844 54.02173306038458)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="86.43477289661664px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">by default</text></g><g stroke-linecap="round"><g transform="translate(4845.702380952374 2856.890008490256) rotate(0 351.72340292136505 -0.06665497650465113)"><path d="M0.07 -0.06 C117.29 -0.05, 586.03 0.07, 703.24 0.09 M-0.07 -0.22 C117.2 -0.25, 586.31 -0.13, 703.52 -0.12" stroke="#e03131" stroke-width="4" fill="none"></path></g><g transform="translate(4845.702380952374 2856.890008490256) rotate(0 351.72340292136505 -0.06665497650465113)"><path d="M675.33 10.13 C682.31 7.35, 689.71 4.87, 703.52 -0.12 M675.33 10.13 C685.58 6.49, 695.48 2.76, 703.52 -0.12" stroke="#e03131" stroke-width="4" fill="none"></path></g><g transform="translate(4845.702380952374 2856.890008490256) rotate(0 351.72340292136505 -0.06665497650465113)"><path d="M675.33 -10.39 C682.32 -8, 689.72 -5.31, 703.52 -0.12 M675.33 -10.39 C685.59 -6.64, 695.49 -2.99, 703.52 -0.12" stroke="#e03131" stroke-width="4" fill="none"></path></g></g><mask></mask><g transform="translate(5642.369047619046 2816.890008490256) rotate(0 944.2185318558004 49.16666666666424)"><text x="0" y="0" font-family="Virgil, Segoe UI Emoji" font-size="78.66666666666426px" fill="#2f9e44" text-anchor="start" style="white-space: pre;" direction="ltr" dominant-baseline="text-before-edge">A slot will automatically be created on publisher</text></g><g stroke-linecap="round"><g transform="translate(3585.702380952378 690.2233418235846) rotate(0 -34.46299702002398 269.7284085877254)"><path d="M-0.89 0.29 C-12.28 45.27, -69.6 179.75, -69.38 269.56 C-69.15 359.37, -11.01 494.02, 0.45 539.17" stroke="#2f9e44" stroke-width="4.5" fill="none" stroke-dasharray="8 12"></path></g><g transform="translate(3585.702380952378 690.2233418235846) rotate(0 -34.46299702002398 269.7284085877254)"><path d="M-18.09 515.59 C-13.65 521.88, -10.84 526.72, 0.45 539.17" stroke="#2f9e44" stroke-width="4.5" fill="none"></path></g><g transform="translate(3585.702380952378 690.2233418235846) rotate(0 -34.46299702002398 269.7284085877254)"><path d="M1.4 509.18 C1.59 516.72, 0.17 522.95, 0.45 539.17" stroke="#2f9e44" stroke-width="4.5" fill="none"></path></g></g><mask></mask></svg>